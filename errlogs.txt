addPolygon() - Using simplified approach (direct addPolygonLayer)
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 0 polygons, returning 0 feature groups
polydraw.ts:894 ğŸ” DEBUG: addPolygonLayer() - Adding polygon to map
polydraw.ts:895 ğŸ” DEBUG: addPolygonLayer() - Input polygon geometry type: MultiPolygon
polydraw.ts:899 ğŸ” DEBUG: addPolygonLayer() - Input coordinates structure: [[[OTHER]]] (length: 1)
polydraw.ts:910 ğŸ”§ addPolygonLayer() - Using ONLY PolygonStateManager (no legacy feature group creation)
polygon-state-manager.ts:48 ğŸ”§ PolygonStateManager.addPolygon() - Adding polygon: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-state-manager.ts:266 ğŸ”§ PolygonStateManager.addSinglePolygon() - Starting with ID: polygon_1
polydraw.ts:1460 ğŸ”§ createFeatureGroupForPolygon() - Creating feature group for: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:1272 ğŸ”§ enablePolygonDragging() - Using legacy PolygonDragManager (correct approach)
polydraw.ts:1507 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Input structure: [Array(1)]
polydraw.ts:1508 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Structure analysis: [[[LATLNG_OBJECT]]] (length: 1)
polydraw.ts:1514 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Processing ring group 0: [Array(65)]
polydraw.ts:1583 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Nested structure with 1 rings
polydraw.ts:1588 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Ring 0: isHoleRing=false, elements=65
polydraw.ts:1617 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Adding GREEN normal markers for ring 0
polygon-state-manager.ts:271 ğŸ”§ PolygonStateManager.addSinglePolygon() - Feature group created successfully
polygon-state-manager.ts:354 ğŸ”§ updatePolygonFeatureGroupReferences() - Updated polygon references
polygon-state-manager.ts:286 ğŸ”§ PolygonStateManager.addSinglePolygon() - Stored in polygons map, size now: 1
polygon-state-manager.ts:294 ğŸ”§ PolygonStateManager.addSinglePolygon() - Added polygon: polygon_1
polydraw.ts:915 ğŸ”§ addPolygonLayer() - Successfully added to PolygonStateManager
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polydraw.ts:920 ğŸ” DEBUG: addPolygonLayer() - arrayOfFeatureGroups.length: 1
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(1)]
polygon-helpers.ts:75 ğŸ” DEBUG: PolygonInfo constructor - Processing polygon 0: [Array(65)]
polygon-state-manager.ts:134 ğŸ”§ PolygonStateManager.subtractPolygon() - Subtracting polygon
polygon-state-manager.ts:146 ğŸ”§ PolygonStateManager.subtractPolygon() - Found 1 intersecting polygons: ['polygon_1']
polygon-state-manager.ts:110 ğŸ”§ PolygonStateManager.removePolygon() - Removed polygon: polygon_1
polygon-state-manager.ts:48 ğŸ”§ PolygonStateManager.addPolygon() - Adding polygon: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-state-manager.ts:266 ğŸ”§ PolygonStateManager.addSinglePolygon() - Starting with ID: polygon_2
polydraw.ts:1460 ğŸ”§ createFeatureGroupForPolygon() - Creating feature group for: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:1272 ğŸ”§ enablePolygonDragging() - Using legacy PolygonDragManager (correct approach)
polydraw.ts:1507 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Input structure: [Array(2)]
polydraw.ts:1508 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Structure analysis: [[[LATLNG_OBJECT]]] (length: 1)
polydraw.ts:1514 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Processing ring group 0: (2)Â [Array(65), Array(51)]
polydraw.ts:1583 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Nested structure with 2 rings
polydraw.ts:1588 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Ring 0: isHoleRing=false, elements=65
polydraw.ts:1617 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Adding GREEN normal markers for ring 0
polydraw.ts:1588 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Ring 1: isHoleRing=true, elements=51
polydraw.ts:1599 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Adding red polyline overlay for hole ring 1
polydraw.ts:1612 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Adding RED hole markers for ring 1
polygon-state-manager.ts:271 ğŸ”§ PolygonStateManager.addSinglePolygon() - Feature group created successfully
polygon-state-manager.ts:354 ğŸ”§ updatePolygonFeatureGroupReferences() - Updated polygon references
polygon-state-manager.ts:286 ğŸ”§ PolygonStateManager.addSinglePolygon() - Stored in polygons map, size now: 1
polygon-state-manager.ts:294 ğŸ”§ PolygonStateManager.addSinglePolygon() - Added polygon: polygon_2
polygon-state-manager.ts:220 ğŸ”§ PolygonStateManager.subtractPolygon() - Created 1 result polygons: ['polygon_2']
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(2)]
polygon-helpers.ts:75 ğŸ” DEBUG: PolygonInfo constructor - Processing polygon 0: (2)Â [Array(65), Array(51)]
marker-manager.ts:1123 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1124 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 116
marker-manager.ts:1136 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1147 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 65 points, marker offset: 0
marker-manager.ts:1160 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 65 markers
marker-manager.ts:1147 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 51 points, marker offset: 65
marker-manager.ts:1160 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 51 markers
marker-manager.ts:1170 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(65), Array(51)]
marker-manager.ts:1244 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1123 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1124 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 116
marker-manager.ts:1136 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1147 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 65 points, marker offset: 0
marker-manager.ts:1160 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 65 markers
marker-manager.ts:1147 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 51 points, marker offset: 65
marker-manager.ts:1160 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 51 markers
marker-manager.ts:1170 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(65), Array(51)]
marker-manager.ts:1244 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1123 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1124 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 116
marker-manager.ts:1136 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1147 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 65 points, marker offset: 0
marker-manager.ts:1160 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 65 markers
marker-manager.ts:1147 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 51 points, marker offset: 65
marker-manager.ts:1160 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 51 markers
marker-manager.ts:1170 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(65), Array(51)]
marker-manager.ts:1244 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1123 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1124 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 116
marker-manager.ts:1136 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1147 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 65 points, marker offset: 0
marker-manager.ts:1160 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 65 markers
marker-manager.ts:1147 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 51 points, marker offset: 65
marker-manager.ts:1160 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 51 markers
marker-manager.ts:1170 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(65), Array(51)]
marker-manager.ts:1244 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
polydraw.ts:1230 ğŸ”§ markerDragEnd() - Using legacy MarkerManager with hole preservation
marker-manager.ts:354 ğŸ”§ DEBUG: handleMarkerDragEnd - Original structure: [Array(2)]
marker-manager.ts:360 ğŸ”§ DEBUG: handleMarkerDragEnd - Using clean new polygon approach
polydraw.ts:844 ğŸ”§ removeFeatureGroup() - Using PolygonStateManager instead of legacy array
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polydraw.ts:845 ğŸ”§ removeFeatureGroup() - Before removal, array length: 1
polydraw.ts:849 ğŸ”§ removeFeatureGroup() - Feature group to remove: 439
polydraw.ts:1645 ğŸ” findPolygonIdByFeatureGroup() - Searching for feature group among 1 polygons
polydraw.ts:1653 ğŸ” findPolygonIdByFeatureGroup() - Checking polygon: polygon_2 featureGroup match: true
polydraw.ts:1660 ğŸ” findPolygonIdByFeatureGroup() - Found direct match: polygon_2
polydraw.ts:857 ğŸ”§ removeFeatureGroup() - Found polygon ID: polygon_2
polygon-state-manager.ts:110 ğŸ”§ PolygonStateManager.removePolygon() - Removed polygon: polygon_2
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 0 polygons, returning 0 feature groups
polydraw.ts:862 ğŸ”§ removeFeatureGroup() - After removal, array length: 0
marker-manager.ts:1429 ğŸ”§ DEBUG: MarkerManager.hasHoleStructure - Checking structure: [Array(2)]
marker-manager.ts:1438 ğŸ”§ DEBUG: MarkerManager.hasHoleStructure - Found nested hole structure [Array(N)] where N > 1
marker-manager.ts:375 ğŸ”§ DEBUG: handleMarkerDragEnd - Rebuilding polygon with holes
marker-manager.ts:1480 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Original structure: [Array(2)]
marker-manager.ts:1484 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Markers count: 116
marker-manager.ts:1503 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Processing nested hole structure
marker-manager.ts:1516 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Processing ring 0 with 65 points
marker-manager.ts:1535 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Created ring 0 with 66 coordinates
marker-manager.ts:1516 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Processing ring 1 with 51 points
marker-manager.ts:1535 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Created ring 1 with 52 coordinates
marker-manager.ts:1585 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Successfully created 2 rings
marker-manager.ts:1591 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Fixing winding direction for holes
marker-manager.ts:1629 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Created GeoJSON: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
marker-manager.ts:414 ğŸ”§ DEBUG: handleMarkerDragEnd - Adding clean polygon
polydraw.ts:894 ğŸ” DEBUG: addPolygonLayer() - Adding polygon to map
polydraw.ts:895 ğŸ” DEBUG: addPolygonLayer() - Input polygon geometry type: Polygon
polydraw.ts:899 ğŸ” DEBUG: addPolygonLayer() - Input coordinates structure: [[[NUMBER]]] (length: 2)
polydraw.ts:910 ğŸ”§ addPolygonLayer() - Using ONLY PolygonStateManager (no legacy feature group creation)
polygon-state-manager.ts:48 ğŸ”§ PolygonStateManager.addPolygon() - Adding polygon: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-state-manager.ts:266 ğŸ”§ PolygonStateManager.addSinglePolygon() - Starting with ID: polygon_3
polydraw.ts:1460 ğŸ”§ createFeatureGroupForPolygon() - Creating feature group for: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:1272 ğŸ”§ enablePolygonDragging() - Using legacy PolygonDragManager (correct approach)
polydraw.ts:1507 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Input structure: (2)Â [Array(65), Array(51)]
polydraw.ts:1508 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Structure analysis: [[LATLNG_OBJECT]] (length: 2)
polydraw.ts:1514 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Processing ring group 0: (65)Â [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng]
polydraw.ts:1543 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Flattened structure, ring 0: isHoleRing=false
polydraw.ts:1569 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Adding GREEN normal markers for ring 0
polydraw.ts:1514 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Processing ring group 1: (51)Â [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng]
polydraw.ts:1543 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Flattened structure, ring 1: isHoleRing=true
polydraw.ts:1551 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Adding red polyline overlay for hole ring 1
polydraw.ts:1564 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Adding RED hole markers for ring 1
polygon-state-manager.ts:271 ğŸ”§ PolygonStateManager.addSinglePolygon() - Feature group created successfully
polygon-state-manager.ts:354 ğŸ”§ updatePolygonFeatureGroupReferences() - Updated polygon references
polygon-state-manager.ts:286 ğŸ”§ PolygonStateManager.addSinglePolygon() - Stored in polygons map, size now: 1
polygon-state-manager.ts:294 ğŸ”§ PolygonStateManager.addSinglePolygon() - Added polygon: polygon_3
polydraw.ts:915 ğŸ”§ addPolygonLayer() - Successfully added to PolygonStateManager
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polydraw.ts:920 ğŸ” DEBUG: addPolygonLayer() - arrayOfFeatureGroups.length: 1
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: (2)Â [Array(65), Array(51)]
polygon-helpers.ts:29 ğŸ” DEBUG: PolygonInfo constructor - Detected flattened structure [Array(N)], processing directly
polygon-helpers.ts:37 ğŸ” DEBUG: PolygonInfo constructor - Processing coordinate array: (65)Â [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng]
polydraw.ts:1230 ğŸ”§ markerDragEnd() - Using legacy MarkerManager with hole preservation
marker-manager.ts:354 ğŸ”§ DEBUG: handleMarkerDragEnd - Original structure: [Array(116)]
marker-manager.ts:360 ğŸ”§ DEBUG: handleMarkerDragEnd - Using clean new polygon approach
polydraw.ts:844 ğŸ”§ removeFeatureGroup() - Using PolygonStateManager instead of legacy array
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polydraw.ts:845 ğŸ”§ removeFeatureGroup() - Before removal, array length: 1
polydraw.ts:849 ğŸ”§ removeFeatureGroup() - Feature group to remove: 1024
polydraw.ts:1645 ğŸ” findPolygonIdByFeatureGroup() - Searching for feature group among 1 polygons
polydraw.ts:1653 ğŸ” findPolygonIdByFeatureGroup() - Checking polygon: polygon_3 featureGroup match: true
polydraw.ts:1660 ğŸ” findPolygonIdByFeatureGroup() - Found direct match: polygon_3
polydraw.ts:857 ğŸ”§ removeFeatureGroup() - Found polygon ID: polygon_3
polygon-state-manager.ts:110 ğŸ”§ PolygonStateManager.removePolygon() - Removed polygon: polygon_3
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 0 polygons, returning 0 feature groups
polydraw.ts:862 ğŸ”§ removeFeatureGroup() - After removal, array length: 0
marker-manager.ts:1429 ğŸ”§ DEBUG: MarkerManager.hasHoleStructure - Checking structure: [Array(116)]
marker-manager.ts:1438 ğŸ”§ DEBUG: MarkerManager.hasHoleStructure - Found nested hole structure [Array(N)] where N > 1
marker-manager.ts:375 ğŸ”§ DEBUG: handleMarkerDragEnd - Rebuilding polygon with holes
marker-manager.ts:1480 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Original structure: [Array(116)]
marker-manager.ts:1484 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Markers count: 116
marker-manager.ts:1503 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - Processing nested hole structure
marker-manager.ts:1581 ğŸ”§ DEBUG: MarkerManager.buildPolygonWithHoles - No rings created
buildPolygonWithHoles @ marker-manager.ts:1581
handleMarkerDragEnd @ marker-manager.ts:376
markerDragEnd @ polydraw.ts:1234
(anonymous) @ polydraw.ts:1918
fire @ leaflet.js?v=d09e8d0b:388
_onDragEnd @ leaflet.js?v=d09e8d0b:4932
fire @ leaflet.js?v=d09e8d0b:388
finishDrag @ leaflet.js?v=d09e8d0b:4030
_onUp @ leaflet.js?v=d09e8d0b:4014
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
marker-manager.ts:418 ğŸ”§ DEBUG: handleMarkerDragEnd - Simple polygon, building normally
marker-manager.ts:444 ğŸ”§ DEBUG: handleMarkerDragEnd - Created simple feature: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:844 ğŸ”§ removeFeatureGroup() - Using PolygonStateManager instead of legacy array
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 0 polygons, returning 0 feature groups
polydraw.ts:845 ğŸ”§ removeFeatureGroup() - Before removal, array length: 0
polydraw.ts:849 ğŸ”§ removeFeatureGroup() - Feature group to remove: 1024
polydraw.ts:1645 ğŸ” findPolygonIdByFeatureGroup() - Searching for feature group among 0 polygons
polydraw.ts:1667 ğŸ” findPolygonIdByFeatureGroup() - Direct match failed, trying geometry comparison
polydraw.ts:1688 ğŸ” findPolygonIdByFeatureGroup() - Dragged polygon GeoJSON: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:1709 ğŸ” findPolygonIdByFeatureGroup() - No match found with any method
polydraw.ts:867 ğŸ”§ removeFeatureGroup() - Could not find polygon ID for feature group
removeFeatureGroup @ polydraw.ts:867
(anonymous) @ polydraw.ts:1237
handleMarkerDragEnd @ marker-manager.ts:447
markerDragEnd @ polydraw.ts:1234
(anonymous) @ polydraw.ts:1918
fire @ leaflet.js?v=d09e8d0b:388
_onDragEnd @ leaflet.js?v=d09e8d0b:4932
fire @ leaflet.js?v=d09e8d0b:388
finishDrag @ leaflet.js?v=d09e8d0b:4030
_onUp @ leaflet.js?v=d09e8d0b:4014
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
marker-manager.ts:464 ğŸ”§ DEBUG: handleMarkerDragEnd - Polygon is valid, adding directly
polydraw.ts:894 ğŸ” DEBUG: addPolygonLayer() - Adding polygon to map
polydraw.ts:895 ğŸ” DEBUG: addPolygonLayer() - Input polygon geometry type: Polygon
polydraw.ts:899 ğŸ” DEBUG: addPolygonLayer() - Input coordinates structure: [[[NUMBER]]] (length: 1)
polydraw.ts:910 ğŸ”§ addPolygonLayer() - Using ONLY PolygonStateManager (no legacy feature group creation)
polygon-state-manager.ts:48 ğŸ”§ PolygonStateManager.addPolygon() - Adding polygon: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-state-manager.ts:266 ğŸ”§ PolygonStateManager.addSinglePolygon() - Starting with ID: polygon_4
polydraw.ts:1460 ğŸ”§ createFeatureGroupForPolygon() - Creating feature group for: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:1272 ğŸ”§ enablePolygonDragging() - Using legacy PolygonDragManager (correct approach)
polydraw.ts:1507 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Input structure: [Array(116)]
polydraw.ts:1508 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Structure analysis: [[LATLNG_OBJECT]] (length: 1)
polydraw.ts:1514 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Processing ring group 0: (116)Â [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng,Â â€¦]
polydraw.ts:1543 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Flattened structure, ring 0: isHoleRing=false
polydraw.ts:1569 ğŸ”§ DEBUG: addMarkersToFeatureGroup - Adding GREEN normal markers for ring 0
polygon-state-manager.ts:271 ğŸ”§ PolygonStateManager.addSinglePolygon() - Feature group created successfully
polygon-state-manager.ts:354 ğŸ”§ updatePolygonFeatureGroupReferences() - Updated polygon references
polygon-state-manager.ts:286 ğŸ”§ PolygonStateManager.addSinglePolygon() - Stored in polygons map, size now: 1
polygon-state-manager.ts:294 ğŸ”§ PolygonStateManager.addSinglePolygon() - Added polygon: polygon_4
polydraw.ts:915 ğŸ”§ addPolygonLayer() - Successfully added to PolygonStateManager
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polydraw.ts:920 ğŸ” DEBUG: addPolygonLayer() - arrayOfFeatureGroups.length: 1
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(116)]
polygon-helpers.ts:29 ğŸ” DEBUG: PolygonInfo constructor - Detected flattened structure [Array(N)], processing directly
polygon-helpers.ts:37 ğŸ” DEBUG: PolygonInfo constructor - Processing coordinate array: (116)Â [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng,Â â€¦]