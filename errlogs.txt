ğŸ”§ addPolygon() - Using simplified approach (direct addPolygonLayer)
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 0 polygons, returning 0 feature groups
polydraw.ts:894 ğŸ” DEBUG: addPolygonLayer() - Adding polygon to map
polydraw.ts:895 ğŸ” DEBUG: addPolygonLayer() - Input polygon geometry type: MultiPolygon
polydraw.ts:899 ğŸ” DEBUG: addPolygonLayer() - Input coordinates structure: [[[OTHER]]] (length: 1)
polydraw.ts:910 ğŸ”§ addPolygonLayer() - Using ONLY PolygonStateManager (no legacy feature group creation)
polygon-state-manager.ts:48 ğŸ”§ PolygonStateManager.addPolygon() - Adding polygon: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-state-manager.ts:266 ğŸ”§ PolygonStateManager.addSinglePolygon() - Starting with ID: polygon_1
polydraw.ts:1460 ğŸ”§ createFeatureGroupForPolygon() - Creating feature group for: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:1272 ğŸ”§ enablePolygonDragging() - Using legacy PolygonDragManager (correct approach)
polygon-state-manager.ts:271 ğŸ”§ PolygonStateManager.addSinglePolygon() - Feature group created successfully
polygon-state-manager.ts:354 ğŸ”§ updatePolygonFeatureGroupReferences() - Updated polygon references
polygon-state-manager.ts:286 ğŸ”§ PolygonStateManager.addSinglePolygon() - Stored in polygons map, size now: 1
polygon-state-manager.ts:294 ğŸ”§ PolygonStateManager.addSinglePolygon() - Added polygon: polygon_1
polydraw.ts:915 ğŸ”§ addPolygonLayer() - Successfully added to PolygonStateManager
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polydraw.ts:920 ğŸ” DEBUG: addPolygonLayer() - arrayOfFeatureGroups.length: 1
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(1)]
polygon-helpers.ts:75 ğŸ” DEBUG: PolygonInfo constructor - Processing polygon 0: [Array(51)]
polygon-state-manager.ts:134 ğŸ”§ PolygonStateManager.subtractPolygon() - Subtracting polygon
polygon-state-manager.ts:146 ğŸ”§ PolygonStateManager.subtractPolygon() - Found 1 intersecting polygons: ['polygon_1']
polygon-state-manager.ts:110 ğŸ”§ PolygonStateManager.removePolygon() - Removed polygon: polygon_1
polygon-state-manager.ts:48 ğŸ”§ PolygonStateManager.addPolygon() - Adding polygon: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-state-manager.ts:266 ğŸ”§ PolygonStateManager.addSinglePolygon() - Starting with ID: polygon_2
polydraw.ts:1460 ğŸ”§ createFeatureGroupForPolygon() - Creating feature group for: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:1272 ğŸ”§ enablePolygonDragging() - Using legacy PolygonDragManager (correct approach)
polygon-state-manager.ts:271 ğŸ”§ PolygonStateManager.addSinglePolygon() - Feature group created successfully
polygon-state-manager.ts:354 ğŸ”§ updatePolygonFeatureGroupReferences() - Updated polygon references
polygon-state-manager.ts:286 ğŸ”§ PolygonStateManager.addSinglePolygon() - Stored in polygons map, size now: 1
polygon-state-manager.ts:294 ğŸ”§ PolygonStateManager.addSinglePolygon() - Added polygon: polygon_2
polygon-state-manager.ts:220 ğŸ”§ PolygonStateManager.subtractPolygon() - Created 1 result polygons: ['polygon_2']
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 1 polygons, returning 1 feature groups
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(2)]
polygon-helpers.ts:75 ğŸ” DEBUG: PolygonInfo constructor - Processing polygon 0: (2)Â [Array(51), Array(33)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
marker-manager.ts:1085 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(2)]
marker-manager.ts:1086 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Markers count: 84
marker-manager.ts:1098 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Polygon with holes detected (nested structure)
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 0 with 51 markers
marker-manager.ts:1109 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1122 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Added ring 1 with 33 markers
marker-manager.ts:1132 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Hole structure preserved: (2)Â [Array(51), Array(33)]
marker-manager.ts:1206 ğŸ”§ DEBUG: rebuildCoordinatesFromMarkers - Final newPos: [Array(2)]
polydraw.ts:1230 ğŸ”§ markerDragEnd() - Using legacy MarkerManager with hole preservation
marker-manager.ts:362 ğŸ”§ DEBUG: handleMarkerDragEnd - Original structure: [Array(2)]
marker-manager.ts:1391 ğŸ”§ DEBUG: MarkerManager.hasHoleStructure - Checking structure: [Array(2)]
marker-manager.ts:1400 ğŸ”§ DEBUG: MarkerManager.hasHoleStructure - Found nested hole structure [Array(N)] where N > 1
marker-manager.ts:368 ğŸ”§ DEBUG: handleMarkerDragEnd - Polygon with holes detected, exploding into separate polygons
marker-manager.ts:1583 ğŸ”§ DEBUG: explodePolygonWithHoles - Original structure: [Array(2)]
marker-manager.ts:1584 ğŸ”§ DEBUG: explodePolygonWithHoles - Markers count: 84
marker-manager.ts:1598 ğŸ”§ DEBUG: explodePolygonWithHoles - Processing ring 0 with 51 points, marker offset: 0
marker-manager.ts:1655 ğŸ”§ DEBUG: explodePolygonWithHoles - Created simple polygon for ring 0 (isHole: false): {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:894 ğŸ” DEBUG: addPolygonLayer() - Adding polygon to map
polydraw.ts:895 ğŸ” DEBUG: addPolygonLayer() - Input polygon geometry type: Polygon
polydraw.ts:899 ğŸ” DEBUG: addPolygonLayer() - Input coordinates structure: [[[NUMBER]]] (length: 1)
polydraw.ts:910 ğŸ”§ addPolygonLayer() - Using ONLY PolygonStateManager (no legacy feature group creation)
polygon-state-manager.ts:48 ğŸ”§ PolygonStateManager.addPolygon() - Adding polygon: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-state-manager.ts:266 ğŸ”§ PolygonStateManager.addSinglePolygon() - Starting with ID: polygon_3
polydraw.ts:1460 ğŸ”§ createFeatureGroupForPolygon() - Creating feature group for: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:1272 ğŸ”§ enablePolygonDragging() - Using legacy PolygonDragManager (correct approach)
polygon-state-manager.ts:271 ğŸ”§ PolygonStateManager.addSinglePolygon() - Feature group created successfully
polygon-state-manager.ts:354 ğŸ”§ updatePolygonFeatureGroupReferences() - Updated polygon references
polygon-state-manager.ts:286 ğŸ”§ PolygonStateManager.addSinglePolygon() - Stored in polygons map, size now: 2
polygon-state-manager.ts:294 ğŸ”§ PolygonStateManager.addSinglePolygon() - Added polygon: polygon_3
polydraw.ts:915 ğŸ”§ addPolygonLayer() - Successfully added to PolygonStateManager
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 2 polygons, returning 2 feature groups
polydraw.ts:920 ğŸ” DEBUG: addPolygonLayer() - arrayOfFeatureGroups.length: 2
marker-manager.ts:1598 ğŸ”§ DEBUG: explodePolygonWithHoles - Processing ring 1 with 33 points, marker offset: 51
marker-manager.ts:1626 ğŸ”§ DEBUG: explodePolygonWithHoles - Reversing hole ring 1 to counterclockwise for separate polygon
marker-manager.ts:1655 ğŸ”§ DEBUG: explodePolygonWithHoles - Created simple polygon for ring 1 (isHole: true): {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:894 ğŸ” DEBUG: addPolygonLayer() - Adding polygon to map
polydraw.ts:895 ğŸ” DEBUG: addPolygonLayer() - Input polygon geometry type: Polygon
polydraw.ts:899 ğŸ” DEBUG: addPolygonLayer() - Input coordinates structure: [[[NUMBER]]] (length: 1)
polydraw.ts:910 ğŸ”§ addPolygonLayer() - Using ONLY PolygonStateManager (no legacy feature group creation)
polygon-state-manager.ts:48 ğŸ”§ PolygonStateManager.addPolygon() - Adding polygon: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-state-manager.ts:266 ğŸ”§ PolygonStateManager.addSinglePolygon() - Starting with ID: polygon_4
polydraw.ts:1460 ğŸ”§ createFeatureGroupForPolygon() - Creating feature group for: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:1272 ğŸ”§ enablePolygonDragging() - Using legacy PolygonDragManager (correct approach)
polygon-state-manager.ts:271 ğŸ”§ PolygonStateManager.addSinglePolygon() - Feature group created successfully
polygon-state-manager.ts:354 ğŸ”§ updatePolygonFeatureGroupReferences() - Updated polygon references
polygon-state-manager.ts:286 ğŸ”§ PolygonStateManager.addSinglePolygon() - Stored in polygons map, size now: 3
polygon-state-manager.ts:294 ğŸ”§ PolygonStateManager.addSinglePolygon() - Added polygon: polygon_4
polydraw.ts:915 ğŸ”§ addPolygonLayer() - Successfully added to PolygonStateManager
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 3 polygons, returning 3 feature groups
polydraw.ts:920 ğŸ” DEBUG: addPolygonLayer() - arrayOfFeatureGroups.length: 3
marker-manager.ts:1665 ğŸ”§ DEBUG: explodePolygonWithHoles - Successfully exploded polygon into separate rings
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 3 polygons, returning 3 feature groups
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(2)]
polygon-helpers.ts:75 ğŸ” DEBUG: PolygonInfo constructor - Processing polygon 0: (2)Â [Array(51), Array(33)]
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(51)]
polygon-helpers.ts:29 ğŸ” DEBUG: PolygonInfo constructor - Detected flattened structure [Array(N)], processing directly
polygon-helpers.ts:37 ğŸ” DEBUG: PolygonInfo constructor - Processing coordinate array: (51)Â [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng]
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(33)]
polygon-helpers.ts:29 ğŸ” DEBUG: PolygonInfo constructor - Detected flattened structure [Array(N)], processing directly
polygon-helpers.ts:37 ğŸ” DEBUG: PolygonInfo constructor - Processing coordinate array: (33)Â [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng]
polygon-drag-manager.ts:177 ğŸ” DEBUG: onPolygonMouseDown() - Starting polygon drag
polygon-drag-manager.ts:178 ğŸ” DEBUG: onPolygonMouseDown() - Polygon feature group: NewClassÂ {options: {â€¦}, _layers: {â€¦}, _initHooksCalled: true, _leaflet_id: 1055, _mapToAdd: NewClass,Â â€¦}
polygon-drag-manager.ts:182 ğŸ” DEBUG: onPolygonMouseDown() - Polygon original coordinates: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-drag-manager.ts:196 ğŸ” DEBUG: onPolygonMouseDown() - Modifier key pressed: false
polygon-drag-manager.ts:591 ğŸ”§ updatePolygonCoordinates() - Using simple approach for normal drag
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 3 polygons, returning 3 feature groups
simple-polygon-operations.ts:35 ğŸ”§ SimplePolygonOperations.updatePolygonCoordinates() - Starting simple update
simple-polygon-operations.ts:36 ğŸ”§ Input coordinates structure: [[[NUMBER]]] (length: 1)
simple-polygon-operations.ts:56 ğŸ”§ SimplePolygonOperations.deletePolygon() - Removing old polygon
simple-polygon-operations.ts:57 ğŸ”§ SimplePolygonOperations.deletePolygon() - Array length before callback: 3
polygon-drag-manager.ts:599 ğŸ”§ PolygonDragManager - Calling removal callback to actually remove polygon
polydraw.ts:117 ğŸ”§ Polygon drag removal - Calling removeFeatureGroup directly
polydraw.ts:844 ğŸ”§ removeFeatureGroup() - Using PolygonStateManager instead of legacy array
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 3 polygons, returning 3 feature groups
polydraw.ts:845 ğŸ”§ removeFeatureGroup() - Before removal, array length: 3
polydraw.ts:849 ğŸ”§ removeFeatureGroup() - Feature group to remove: 1055
polydraw.ts:1569 ğŸ” findPolygonIdByFeatureGroup() - Searching for feature group among 3 polygons
polydraw.ts:1577 ğŸ” findPolygonIdByFeatureGroup() - Checking polygon: polygon_2 featureGroup match: false
polydraw.ts:1577 ğŸ” findPolygonIdByFeatureGroup() - Checking polygon: polygon_3 featureGroup match: false
polydraw.ts:1577 ğŸ” findPolygonIdByFeatureGroup() - Checking polygon: polygon_4 featureGroup match: true
polydraw.ts:1584 ğŸ” findPolygonIdByFeatureGroup() - Found direct match: polygon_4
polydraw.ts:857 ğŸ”§ removeFeatureGroup() - Found polygon ID: polygon_4
polygon-state-manager.ts:110 ğŸ”§ PolygonStateManager.removePolygon() - Removed polygon: polygon_4
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 2 polygons, returning 2 feature groups
polydraw.ts:862 ğŸ”§ removeFeatureGroup() - After removal, array length: 2
simple-polygon-operations.ts:62 ğŸ”§ SimplePolygonOperations.deletePolygon() - Array length after callback: 3
simple-polygon-operations.ts:72 ğŸ”§ SimplePolygonOperations.addPolygon() - Adding fresh polygon
simple-polygon-operations.ts:75 ğŸ”§ SimplePolygonOperations.addPolygon() - Checking for merge conditions
simple-polygon-operations.ts:79 ğŸ”§ SimplePolygonOperations.addPolygon() - Found 3 existing polygons, checking for intersections
simple-polygon-operations.ts:99 ğŸ”§ SimplePolygonOperations.checkAndPerformMerge() - Checking for intersections
simple-polygon-operations.ts:103 ğŸ”§ SimplePolygonOperations.checkAndPerformMerge() - Using addPolygon with merge logic
polygon-drag-manager.ts:608 ğŸ”§ PolygonDragManager - Using addPolygon with merge logic for drag
polydraw.ts:122 ğŸ”§ PolygonDragManager - Using addPolygon with merge logic
polydraw.ts:795 ğŸ”§ addPolygon() - Using simplified approach (direct addPolygonLayer)
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 2 polygons, returning 2 feature groups
polydraw.ts:1667 ğŸ”§ merge() - Using simplified merge approach
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 2 polygons, returning 2 feature groups
turf-helper.ts:520 Invalid coordinates array - need at least 3 points for a polygon
e @ turf-helper.ts:520
(anonymous) @ turf-helper.ts:575
removeDuplicateVertices @ turf-helper.ts:575
getKinks @ turf-helper.ts:86
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
turf-helper.ts:580 Cleaned polygon has invalid ring with less than 4 coordinates
removeDuplicateVertices @ turf-helper.ts:580
getKinks @ turf-helper.ts:86
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
turf-helper.ts:101 Error processing kinks: Each LinearRing of a Polygon must have 4 or more Positions.
getKinks @ turf-helper.ts:101
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
polydraw.ts:1704 ğŸ”§ merge() - Intersection check result: false
turf-helper.ts:520 Invalid coordinates array - need at least 3 points for a polygon
e @ turf-helper.ts:520
(anonymous) @ turf-helper.ts:575
removeDuplicateVertices @ turf-helper.ts:575
getKinks @ turf-helper.ts:86
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
turf-helper.ts:580 Cleaned polygon has invalid ring with less than 4 coordinates
removeDuplicateVertices @ turf-helper.ts:580
getKinks @ turf-helper.ts:86
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
turf-helper.ts:101 Error processing kinks: Each LinearRing of a Polygon must have 4 or more Positions.
getKinks @ turf-helper.ts:101
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
polydraw.ts:1704 ğŸ”§ merge() - Intersection check result: false
polydraw.ts:894 ğŸ” DEBUG: addPolygonLayer() - Adding polygon to map
polydraw.ts:895 ğŸ” DEBUG: addPolygonLayer() - Input polygon geometry type: Polygon
polydraw.ts:899 ğŸ” DEBUG: addPolygonLayer() - Input coordinates structure: [[[NUMBER]]] (length: 1)
polydraw.ts:910 ğŸ”§ addPolygonLayer() - Using ONLY PolygonStateManager (no legacy feature group creation)
polygon-state-manager.ts:48 ğŸ”§ PolygonStateManager.addPolygon() - Adding polygon: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-state-manager.ts:266 ğŸ”§ PolygonStateManager.addSinglePolygon() - Starting with ID: polygon_5
polydraw.ts:1460 ğŸ”§ createFeatureGroupForPolygon() - Creating feature group for: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:1272 ğŸ”§ enablePolygonDragging() - Using legacy PolygonDragManager (correct approach)
polygon-state-manager.ts:271 ğŸ”§ PolygonStateManager.addSinglePolygon() - Feature group created successfully
polygon-state-manager.ts:354 ğŸ”§ updatePolygonFeatureGroupReferences() - Updated polygon references
polygon-state-manager.ts:286 ğŸ”§ PolygonStateManager.addSinglePolygon() - Stored in polygons map, size now: 3
polygon-state-manager.ts:294 ğŸ”§ PolygonStateManager.addSinglePolygon() - Added polygon: polygon_5
polydraw.ts:915 ğŸ”§ addPolygonLayer() - Successfully added to PolygonStateManager
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 3 polygons, returning 3 feature groups
polydraw.ts:920 ğŸ” DEBUG: addPolygonLayer() - arrayOfFeatureGroups.length: 3
simple-polygon-operations.ts:49 ğŸ”§ SimplePolygonOperations.updatePolygonCoordinates() - Completed simple update
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 3 polygons, returning 3 feature groups
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(2)]
polygon-helpers.ts:75 ğŸ” DEBUG: PolygonInfo constructor - Processing polygon 0: (2)Â [Array(51), Array(33)]
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(51)]
polygon-helpers.ts:29 ğŸ” DEBUG: PolygonInfo constructor - Detected flattened structure [Array(N)], processing directly
polygon-helpers.ts:37 ğŸ” DEBUG: PolygonInfo constructor - Processing coordinate array: (51)Â [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng]
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(27)]
polygon-helpers.ts:29 ğŸ” DEBUG: PolygonInfo constructor - Detected flattened structure [Array(N)], processing directly
polygon-helpers.ts:37 ğŸ” DEBUG: PolygonInfo constructor - Processing coordinate array: (27)Â [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng]
polygon-drag-manager.ts:177 ğŸ” DEBUG: onPolygonMouseDown() - Starting polygon drag
polygon-drag-manager.ts:178 ğŸ” DEBUG: onPolygonMouseDown() - Polygon feature group: NewClassÂ {options: {â€¦}, _layers: {â€¦}, _initHooksCalled: true, _leaflet_id: 797, _mapToAdd: NewClass,Â â€¦}
polygon-drag-manager.ts:182 ğŸ” DEBUG: onPolygonMouseDown() - Polygon original coordinates: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-drag-manager.ts:196 ğŸ” DEBUG: onPolygonMouseDown() - Modifier key pressed: false
polygon-drag-manager.ts:591 ğŸ”§ updatePolygonCoordinates() - Using simple approach for normal drag
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 3 polygons, returning 3 feature groups
simple-polygon-operations.ts:35 ğŸ”§ SimplePolygonOperations.updatePolygonCoordinates() - Starting simple update
simple-polygon-operations.ts:36 ğŸ”§ Input coordinates structure: [[[NUMBER]]] (length: 1)
simple-polygon-operations.ts:56 ğŸ”§ SimplePolygonOperations.deletePolygon() - Removing old polygon
simple-polygon-operations.ts:57 ğŸ”§ SimplePolygonOperations.deletePolygon() - Array length before callback: 3
polygon-drag-manager.ts:599 ğŸ”§ PolygonDragManager - Calling removal callback to actually remove polygon
polydraw.ts:117 ğŸ”§ Polygon drag removal - Calling removeFeatureGroup directly
polydraw.ts:844 ğŸ”§ removeFeatureGroup() - Using PolygonStateManager instead of legacy array
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 3 polygons, returning 3 feature groups
polydraw.ts:845 ğŸ”§ removeFeatureGroup() - Before removal, array length: 3
polydraw.ts:849 ğŸ”§ removeFeatureGroup() - Feature group to remove: 797
polydraw.ts:1569 ğŸ” findPolygonIdByFeatureGroup() - Searching for feature group among 3 polygons
polydraw.ts:1577 ğŸ” findPolygonIdByFeatureGroup() - Checking polygon: polygon_2 featureGroup match: false
polydraw.ts:1577 ğŸ” findPolygonIdByFeatureGroup() - Checking polygon: polygon_3 featureGroup match: true
polydraw.ts:1584 ğŸ” findPolygonIdByFeatureGroup() - Found direct match: polygon_3
polydraw.ts:857 ğŸ”§ removeFeatureGroup() - Found polygon ID: polygon_3
polygon-state-manager.ts:110 ğŸ”§ PolygonStateManager.removePolygon() - Removed polygon: polygon_3
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 2 polygons, returning 2 feature groups
polydraw.ts:862 ğŸ”§ removeFeatureGroup() - After removal, array length: 2
simple-polygon-operations.ts:62 ğŸ”§ SimplePolygonOperations.deletePolygon() - Array length after callback: 3
simple-polygon-operations.ts:72 ğŸ”§ SimplePolygonOperations.addPolygon() - Adding fresh polygon
simple-polygon-operations.ts:75 ğŸ”§ SimplePolygonOperations.addPolygon() - Checking for merge conditions
simple-polygon-operations.ts:79 ğŸ”§ SimplePolygonOperations.addPolygon() - Found 3 existing polygons, checking for intersections
simple-polygon-operations.ts:99 ğŸ”§ SimplePolygonOperations.checkAndPerformMerge() - Checking for intersections
simple-polygon-operations.ts:103 ğŸ”§ SimplePolygonOperations.checkAndPerformMerge() - Using addPolygon with merge logic
polygon-drag-manager.ts:608 ğŸ”§ PolygonDragManager - Using addPolygon with merge logic for drag
polydraw.ts:122 ğŸ”§ PolygonDragManager - Using addPolygon with merge logic
polydraw.ts:795 ğŸ”§ addPolygon() - Using simplified approach (direct addPolygonLayer)
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 2 polygons, returning 2 feature groups
polydraw.ts:1667 ğŸ”§ merge() - Using simplified merge approach
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 2 polygons, returning 2 feature groups
turf-helper.ts:520 Invalid coordinates array - need at least 3 points for a polygon
e @ turf-helper.ts:520
(anonymous) @ turf-helper.ts:575
removeDuplicateVertices @ turf-helper.ts:575
getKinks @ turf-helper.ts:86
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
turf-helper.ts:580 Cleaned polygon has invalid ring with less than 4 coordinates
removeDuplicateVertices @ turf-helper.ts:580
getKinks @ turf-helper.ts:86
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
turf-helper.ts:101 Error processing kinks: Each LinearRing of a Polygon must have 4 or more Positions.
getKinks @ turf-helper.ts:101
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
polydraw.ts:1704 ğŸ”§ merge() - Intersection check result: false
turf-helper.ts:520 Invalid coordinates array - need at least 3 points for a polygon
e @ turf-helper.ts:520
(anonymous) @ turf-helper.ts:575
removeDuplicateVertices @ turf-helper.ts:575
getKinks @ turf-helper.ts:86
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
turf-helper.ts:580 Cleaned polygon has invalid ring with less than 4 coordinates
removeDuplicateVertices @ turf-helper.ts:580
getKinks @ turf-helper.ts:86
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
turf-helper.ts:101 Error processing kinks: Each LinearRing of a Polygon must have 4 or more Positions.
getKinks @ turf-helper.ts:101
polygonIntersect @ turf-helper.ts:198
(anonymous) @ polydraw.ts:1682
merge @ polydraw.ts:1672
addPolygon @ polydraw.ts:800
(anonymous) @ polydraw.ts:123
(anonymous) @ polygon-drag-manager.ts:611
checkAndPerformMerge @ simple-polygon-operations.ts:106
addPolygon @ simple-polygon-operations.ts:86
updatePolygonCoordinates @ simple-polygon-operations.ts:47
updatePolygonCoordinates @ polygon-drag-manager.ts:620
onPolygonMouseUp @ polygon-drag-manager.ts:328
fire @ leaflet.js?v=d09e8d0b:388
_fireDOMEvent @ leaflet.js?v=d09e8d0b:2960
_handleDOMEvent @ leaflet.js?v=d09e8d0b:2924
handler @ leaflet.js?v=d09e8d0b:1734Understand this warning
polydraw.ts:1704 ğŸ”§ merge() - Intersection check result: false
polydraw.ts:894 ğŸ” DEBUG: addPolygonLayer() - Adding polygon to map
polydraw.ts:895 ğŸ” DEBUG: addPolygonLayer() - Input polygon geometry type: Polygon
polydraw.ts:899 ğŸ” DEBUG: addPolygonLayer() - Input coordinates structure: [[[NUMBER]]] (length: 1)
polydraw.ts:910 ğŸ”§ addPolygonLayer() - Using ONLY PolygonStateManager (no legacy feature group creation)
polygon-state-manager.ts:48 ğŸ”§ PolygonStateManager.addPolygon() - Adding polygon: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polygon-state-manager.ts:266 ğŸ”§ PolygonStateManager.addSinglePolygon() - Starting with ID: polygon_6
polydraw.ts:1460 ğŸ”§ createFeatureGroupForPolygon() - Creating feature group for: {type: 'Feature', properties: {â€¦}, geometry: {â€¦}}
polydraw.ts:1272 ğŸ”§ enablePolygonDragging() - Using legacy PolygonDragManager (correct approach)
polygon-state-manager.ts:271 ğŸ”§ PolygonStateManager.addSinglePolygon() - Feature group created successfully
polygon-state-manager.ts:354 ğŸ”§ updatePolygonFeatureGroupReferences() - Updated polygon references
polygon-state-manager.ts:286 ğŸ”§ PolygonStateManager.addSinglePolygon() - Stored in polygons map, size now: 3
polygon-state-manager.ts:294 ğŸ”§ PolygonStateManager.addSinglePolygon() - Added polygon: polygon_6
polydraw.ts:915 ğŸ”§ addPolygonLayer() - Successfully added to PolygonStateManager
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 3 polygons, returning 3 feature groups
polydraw.ts:920 ğŸ” DEBUG: addPolygonLayer() - arrayOfFeatureGroups.length: 3
simple-polygon-operations.ts:49 ğŸ”§ SimplePolygonOperations.updatePolygonCoordinates() - Completed simple update
polydraw.ts:585 ğŸ”§ arrayOfFeatureGroups getter - Using PolygonStateManager as single source of truth
polydraw.ts:596 ğŸ”§ arrayOfFeatureGroups getter - Found 3 polygons, returning 3 feature groups
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(2)]
polygon-helpers.ts:75 ğŸ” DEBUG: PolygonInfo constructor - Processing polygon 0: (2)Â [Array(51), Array(33)]
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(27)]
polygon-helpers.ts:29 ğŸ” DEBUG: PolygonInfo constructor - Detected flattened structure [Array(N)], processing directly
polygon-helpers.ts:37 ğŸ” DEBUG: PolygonInfo constructor - Processing coordinate array: (27)Â [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng]
polygon-helpers.ts:12 ğŸ” DEBUG: PolygonInfo constructor - Input polygon: [Array(51)]
polygon-helpers.ts:29 ğŸ” DEBUG: PolygonInfo constructor - Detected flattened structure [Array(N)], processing directly
polygon-helpers.ts:37 ğŸ” DEBUG: PolygonInfo constructor - Processing coordinate array: (51)Â [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng]