🔍 DEBUG: addPolygonLayer() - Adding polygon to map
polydraw.ts:829 🔍 DEBUG: addPolygonLayer() - Input polygon: {type: 'Feature', properties: {…}, geometry: {…}}
polydraw.ts:830 🔍 DEBUG: addPolygonLayer() - Polygon type: MultiPolygon
polydraw.ts:831 🔍 DEBUG: addPolygonLayer() - Polygon coordinates structure: [Array(1)]
polydraw.ts:882 🔍 DEBUG: addPolygonLayer() - Created Leaflet polygon: NewClass {options: {…}, _bounds: LatLngBounds, _latlngs: Array(1), _initHooksCalled: true, _polydrawHasHoles: false}
polydraw.ts:883 🔍 DEBUG: addPolygonLayer() - Leaflet polygon coordinates: [Array(1)]
polydraw.ts:898 🔍 DEBUG: addPolygonLayer() - Marker coordinates structure: [Array(1)]
polydraw.ts:901 🔍 DEBUG: addPolygonLayer() - Processing ring group 0 with 1 rings
polydraw.ts:952 🔍 DEBUG: addPolygonLayer() - Ring 0 (outer) with 37 points
polydraw.ts:971 🔧 Calling addMarker for main ring with 37 points
polydraw.ts:980 🔍 DEBUG: addPolygonLayer() - Total feature groups after adding: 1
polydraw.ts:984 🔍 DEBUG: addPolygonLayer() - New feature group layers count: 38
polygon-helpers.ts:12 🔍 DEBUG: PolygonInfo constructor - Input polygon: [Array(1)]
polygon-helpers.ts:75 🔍 DEBUG: PolygonInfo constructor - Processing polygon 0: [Array(37)]
polydraw.ts:828 🔍 DEBUG: addPolygonLayer() - Adding polygon to map
polydraw.ts:829 🔍 DEBUG: addPolygonLayer() - Input polygon: {type: 'Feature', properties: {…}, geometry: {…}}
polydraw.ts:830 🔍 DEBUG: addPolygonLayer() - Polygon type: MultiPolygon
polydraw.ts:831 🔍 DEBUG: addPolygonLayer() - Polygon coordinates structure: [Array(1)]
polydraw.ts:882 🔍 DEBUG: addPolygonLayer() - Created Leaflet polygon: NewClass {options: {…}, _bounds: LatLngBounds, _latlngs: Array(1), _initHooksCalled: true, _polydrawHasHoles: false}
polydraw.ts:883 🔍 DEBUG: addPolygonLayer() - Leaflet polygon coordinates: [Array(1)]
polydraw.ts:898 🔍 DEBUG: addPolygonLayer() - Marker coordinates structure: [Array(1)]
polydraw.ts:901 🔍 DEBUG: addPolygonLayer() - Processing ring group 0 with 1 rings
polydraw.ts:952 🔍 DEBUG: addPolygonLayer() - Ring 0 (outer) with 40 points
polydraw.ts:971 🔧 Calling addMarker for main ring with 40 points
polydraw.ts:980 🔍 DEBUG: addPolygonLayer() - Total feature groups after adding: 2
polydraw.ts:984 🔍 DEBUG: addPolygonLayer() - New feature group layers count: 41
polygon-helpers.ts:12 🔍 DEBUG: PolygonInfo constructor - Input polygon: [Array(1)]
polygon-helpers.ts:75 🔍 DEBUG: PolygonInfo constructor - Processing polygon 0: [Array(37)]
polygon-helpers.ts:12 🔍 DEBUG: PolygonInfo constructor - Input polygon: [Array(1)]
polygon-helpers.ts:75 🔍 DEBUG: PolygonInfo constructor - Processing polygon 0: [Array(40)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:1041 🔧 DEBUG: rebuildCoordinatesFromMarkers - Original structure: [Array(1)]
marker-manager.ts:1042 🔧 DEBUG: rebuildCoordinatesFromMarkers - Markers count: 40
marker-manager.ts:1096 🔧 DEBUG: rebuildCoordinatesFromMarkers - Complex structure result: [Array(1)]
marker-manager.ts:349 🔧 DEBUG: handleMarkerDragEnd - Built coordinates from markers: (41) [Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2)]
marker-manager.ts:364 🔧 DEBUG: handleMarkerDragEnd - Created feature: {type: 'Feature', properties: {…}, geometry: {…}}
marker-manager.ts:384 🔧 DEBUG: handleMarkerDragEnd - Polygon is valid, adding directly
polydraw.ts:828 🔍 DEBUG: addPolygonLayer() - Adding polygon to map
polydraw.ts:829 🔍 DEBUG: addPolygonLayer() - Input polygon: {type: 'Feature', properties: {…}, geometry: {…}}
polydraw.ts:830 🔍 DEBUG: addPolygonLayer() - Polygon type: Polygon
polydraw.ts:831 🔍 DEBUG: addPolygonLayer() - Polygon coordinates structure: [Array(41)]
polydraw.ts:882 🔍 DEBUG: addPolygonLayer() - Created Leaflet polygon: NewClass {options: {…}, _bounds: LatLngBounds, _latlngs: Array(1), _initHooksCalled: true, _polydrawHasHoles: false}
polydraw.ts:883 🔍 DEBUG: addPolygonLayer() - Leaflet polygon coordinates: [Array(40)]
polydraw.ts:898 🔍 DEBUG: addPolygonLayer() - Marker coordinates structure: [Array(40)]
polydraw.ts:901 🔍 DEBUG: addPolygonLayer() - Processing ring group 0 with 40 rings
polydraw.ts:913 🔍 DEBUG: addPolygonLayer() - Ring group 0 has flattened structure, treating as single ring
polydraw.ts:921 🔍 DEBUG: addPolygonLayer() - Flattened ring with 40 points
polydraw.ts:927 🔧 Calling addMarker for flattened ring with 40 points
polydraw.ts:980 🔍 DEBUG: addPolygonLayer() - Total feature groups after adding: 2
polydraw.ts:984 🔍 DEBUG: addPolygonLayer() - New feature group layers count: 41
polygon-helpers.ts:12 🔍 DEBUG: PolygonInfo constructor - Input polygon: [Array(1)]
polygon-helpers.ts:75 🔍 DEBUG: PolygonInfo constructor - Processing polygon 0: [Array(37)]
polygon-helpers.ts:12 🔍 DEBUG: PolygonInfo constructor - Input polygon: [Array(40)]
polygon-helpers.ts:29 🔍 DEBUG: PolygonInfo constructor - Detected flattened structure [Array(N)], processing directly
polygon-helpers.ts:37 🔍 DEBUG: PolygonInfo constructor - Processing coordinate array: (40) [LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng, LatLng]